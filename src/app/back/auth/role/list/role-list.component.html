<nz-table #roleListTable
          [nzData]="roles"
          [nzTitle]="headerTemplate"
          [nzLoading]="isLoading"
          [nzSize]="'small'"
          [nzBordered]="true"
          [nzScroll]="tableHeight"
          [nzFrontPagination]="'false'"
          [nzTotal]="total"
          [nzPageIndex]="pageIndex"
          [nzPageSize]="pageSize"
          (nzPageIndexChange)="pageChanged($event)"
>
  <thead>
  <tr>
    <th width="80%">
      名称
      <nz-dropdown nzTrigger="click" [nzClickHide]="false">
        <i class="anticon anticon-filter ant-table-filter-icon" nz-dropdown></i>
        <div class="custom-filter-dropdown">
          <ul nz-menu>
            <li nz-menu-item>
              <input type="text" style="width: 150px;margin-right: 8px;" nz-input placeholder="关键字" [(ngModel)]="searchkey">
            </li>
          </ul>
          <div class="ant-table-filter-dropdown-btns">
            <a class="ant-table-filter-dropdown-link confirm" (click)="refresh()" ><span>确定</span></a>
            <a class="ant-table-filter-dropdown-link clear" (click)="refreshNoSearchKey()" ><span>重置</span></a>
          </div>
        </div>
      </nz-dropdown>
    </th>
    <th>操作</th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let data of roleListTable.data">
    <td width="80%">{{data.name}}</td>
    <td>
      <button nz-button *ngIf="showEditBtn" nzType="primary" (click)="edit(data.id)" [title]="'编辑'">
        <i class="anticon anticon-edit"></i>
      </button>
      <button nz-button *ngIf="!showEditBtn" nzType="primary" (click)="edit(data.id)" [title]="'查看'">
        <i class="anticon anticon-file"></i>
      </button>
      <button nz-button *ngIf="showModalBtn" nzType="primary" (click)="editAuth(data.id,data.name)" [title]="'权限'">
        <i class="anticon anticon-safety"></i>
      </button>
      <button nz-button *ngIf="showDelBtn" nzType="danger"  [title]="'删除'" nz-popconfirm nzTitle="确定要删除该角色吗?" nzPlacement="bottomRight" (nzOnConfirm)="delete(data.id)">
        <i class="anticon anticon-delete"></i>
      </button>
    </td>
  </tr>
  </tbody>
</nz-table>
<ng-template #headerTemplate>
  <button nz-button *ngIf="showAddBtn" (click)="add()" [nzType]="'primary'" [title]="'新增'">
    <i class="anticon anticon-plus"></i>
  </button>
  <button nz-button (click)="refresh()" style="float:right;" [title]="'刷新'" >
    <i class="anticon anticon-reload"></i>
  </button>
</ng-template>

